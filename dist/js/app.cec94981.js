(function(){var t={6700:function(t,e,a){var s={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":121,"./mi.js":121,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function n(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=r,t.exports=n,n.id=6700},5181:function(t,e,a){"use strict";a(2756);var s=a(7346),n=(a(6088),a(2938)),r=(a(7642),a(6142)),o=(a(2186),a(8889)),i=(a(3891),a(6900)),l=(a(6037),a(6940)),c=(a(3947),a(4814)),u=(a(4204),a(7304)),d=(a(7234),a(5650)),p=(a(7057),a(6812)),v=(a(9293),a(7722)),m=(a(4719),a(705)),h=(a(7983),a(4269)),f=(a(4391),a(4398)),g=(a(1611),a(5929)),b=(a(3970),a(140)),y=(a(2406),a(9864)),k=(a(9578),a(6631)),w=(a(2680),a(5645)),_=(a(6530),a(5094)),x=(a(5728),a(9387)),j=(a(6268),a(9054)),S=(a(6758),a(4639)),C=(a(4285),a(6790)),Z=(a(1287),a(5947)),L=(a(3096),a(2628)),I=(a(4072),a(3481)),P=(a(9649),a(1765)),z=(a(4809),a(9858)),$=(a(3255),a(797)),O=a(6369),D=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Transition",{attrs:{name:"slide-fade"}},[e("router-view")],1)],1)},F=[],T={},A=T,U=a(1001),N=(0,U.Z)(A,D,F,!1,null,"d5876ce0",null),E=N.exports,M=a(2631),R=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"main"},[e("router-view")],1),e("van-tabbar",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("van-tabbar-item",{attrs:{name:"home",replace:"",to:"/layout/home"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("img",{attrs:{src:a(7334),id:"icon"}})]},proxy:!0}])}),e("van-tabbar-item",{attrs:{icon:"records",name:"order",replace:"",to:"/layout/order"}},[t._v("订单")]),e("van-tabbar-item",{attrs:{icon:"contact",name:"me",replace:"",to:"/layout/me"}},[t._v("我的")])],1)],1)},Y=[],V={data(){return{active:this.$route.meta.name}}},q=V,B=(0,U.Z)(q,R,Y,!1,null,"7fcf945b",null),H=B.exports,J=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:""}},[e("div",{attrs:{id:"header"}},[e("van-nav-bar",{attrs:{border:!1},scopedSlots:t._u([{key:"left",fn:function(){return[e("div",{on:{click:function(e){t.showArea=!0}}},[e("span",{staticClass:"location"},[t._v(t._s(t.area))]),e("van-icon",{attrs:{name:"arrow-down",color:"black"}})],1)]},proxy:!0},{key:"right",fn:function(){return[e("van-icon",{attrs:{name:"comment-o",size:"22",color:"black",badge:"99+"}})]},proxy:!0}])}),t.showArea?e("van-area",{attrs:{title:"切换城市","area-list":t.areaList},on:{confirm:t.confirmFn,cancel:function(e){return t.cancelFn()}}}):e("van-search",{attrs:{placeholder:"请输入搜索关键词",shape:"round","left-icon":"scan","show-action":""},scopedSlots:t._u([{key:"action",fn:function(){return[e("div",{on:{click:t.onSearch}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),e("van-notice-bar",{attrs:{"left-icon":"volume-o",scrollable:!1}},[e("van-swipe",{staticClass:"notice-swipe",attrs:{vertical:"",autoplay:3e3,"show-indicators":!1}},[e("van-swipe-item",[t._v("足不出户，尽享人间美食。")]),e("van-swipe-item",[t._v("想吃就尽管点,美食即刻送到。")]),e("van-swipe-item",[t._v("你的掌上餐馆，微菜单。")])],1)],1),e("Categories",{attrs:{list:t.iconList}}),e("Swiper"),e("van-tabs",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("van-tab",{attrs:{title:"点评高分"}},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.storeList,(function(a){return e("SingleStore",{key:a.id,attrs:{pic:a.picUrl,limit:a.limit,delivery:a.delivery,value:a.distance,title:a.name},nativeOn:{click:function(e){return t.goMenu(a.id)}}})})),1)],1),e("van-tab",{attrs:{title:"优惠商家"}},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.storeList,(function(a){return e("SingleStore",{key:a.id,attrs:{pic:a.picUrl,discription:"起送￥20 配送费￥9",value:a.distance,title:a.name},nativeOn:{click:function(e){return t.goMenu()}}})})),1)],1),e("van-tab",{attrs:{title:"满减优惠"}}),e("van-tab",{attrs:{title:"品牌商家"}})],1)],1)},W=[],G=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"padding-top":"10px","margin-bottom":"10px"}},[e("van-row",{attrs:{gutter:"5"}},t._l(t.list,(function(a){return e("van-col",{key:a.index,attrs:{span:"6"}},[e("div",{staticClass:"iconBox"},[e("img",{attrs:{src:a.iconUrl,alt:"",width:"40px"}}),e("p",[t._v(t._s(a.iconText))])])])})),1)],1)},K=[],Q={props:{list:[]},data(){return{}}},X=Q,tt=(0,U.Z)(X,G,K,!1,null,"5749a7d2",null),et=tt.exports,at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"swiper"},[e("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white",height:"80"}},[e("van-swipe-item",[e("img",{attrs:{src:a(4408),alt:"",width:"100%"}})]),e("van-swipe-item",[e("img",{attrs:{src:a(8349),alt:"",width:"100%"}})]),e("van-swipe-item",[e("img",{attrs:{src:a(3639),alt:"",width:"100%"}})])],1)],1)},st=[],nt={},rt=nt,ot=(0,U.Z)(rt,at,st,!1,null,"033747aa",null),it=ot.exports,lt=function(){var t=this,e=t._self._c;return e("div",[e("van-cell",{attrs:{title:t.title,center:""},scopedSlots:t._u([{key:"icon",fn:function(){return[e("img",{staticClass:"cover",attrs:{src:t.pic,alt:"",width:"60px",height:"60px"}})]},proxy:!0},{key:"label",fn:function(){return[e("p",{staticClass:"discription"},[t._v("起送￥"+t._s(t.limit)+" 配送费￥"+t._s(t.delivery))]),e("van-tag",{attrs:{type:"danger"}},[t._v("28减3")]),e("van-tag",{attrs:{type:"danger"}},[t._v("28减3")]),e("van-tag",{attrs:{type:"danger"}},[t._v("28减3")])]},proxy:!0},{key:"default",fn:function(){return[e("span",[t._v(t._s(t.value))])]},proxy:!0}])})],1)},ct=[],ut={props:{title:String,value:String,pic:String,limit:Number,delivery:Number}},dt=ut,pt=(0,U.Z)(dt,lt,ct,!1,null,"2a256579",null),vt=pt.exports,mt=a(6811),ht=a(6265),ft=a.n(ht);ft().defaults.baseURL="http://46.101.60.239:3000",ft().defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var gt=ft();const bt=t=>gt({url:"/api/categories",params:t}),yt=t=>gt({url:"/api/stores",params:t}),kt=t=>gt({url:"/api/menu",params:t}),wt=t=>gt({url:"/api/store",params:t}),_t=t=>gt({url:"/api/product",params:t}),xt=t=>gt({url:"/api/register",method:"post",data:t}),jt=t=>gt({url:"/api/login",method:"post",data:t}),St=t=>gt({url:"/my/userinfo",headers:{Authorization:t}}),Ct=t=>gt({url:"/api/user",params:t}),Zt=()=>gt({url:"/api/functions"}),Lt=t=>gt({url:"/my/orders",headers:{Authorization:t}}),It=(t,e)=>gt({url:"/my/order",headers:{Authorization:t},params:e}),Pt=(t,e)=>gt({url:"/my/orderDetail",headers:{Authorization:t},params:e}),zt=(t,e)=>gt({url:"/my/submitOrder",method:"post",headers:{Authorization:t},data:e}),$t=(t,e)=>gt({url:"/my/submitOrderDetail",method:"post",headers:{Authorization:t},data:e}),Ot=(t,e)=>gt({url:"/my/statu",headers:{Authorization:t},params:{statuId:e}}),Dt=(t,e)=>gt({url:"/my/editNickname",method:"POST",headers:{Authorization:t},data:e}),Ft=(t,e)=>gt({url:"/my/editBirth",method:"POST",headers:{Authorization:t},data:e}),Tt=(t,e)=>gt({url:"/my/editEmail",method:"POST",headers:{Authorization:t},data:e}),At=(t,e)=>gt({url:"/my/editPassword",method:"POST",headers:{Authorization:t},data:e}),Ut=bt,Nt=yt,Et=kt,Mt=wt,Rt=_t,Yt=xt,Vt=jt,qt=St,Bt=Ct,Ht=Zt,Jt=Lt,Wt=It,Gt=Pt,Kt=zt,Qt=$t,Xt=Ot,te=Dt,ee=Ft,ae=Tt,se=At;var ne={components:{Categories:et,Swiper:it,SingleStore:vt},data(){return{iconList:[],storeList:[],active:0,loading:!1,finished:!1,value:"",areaList:mt.H,showArea:!1,area:"未定位"}},async created(){const t=await Ut();this.iconList=t.data.data;const e=await Nt();this.storeList=e.data.data},methods:{onLoad(){this.loading=!1,this.finished=!0},goMenu(t){this.$router.push({path:"/menu/"+t})},onSearch(){},confirmFn(t){this.area=t[2].name,this.showArea=!1},cancelFn(){this.showArea=!1}}},re=ne,oe=(0,U.Z)(re,J,W,!1,null,"00f2c8a3",null),ie=oe.exports,le=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{"left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),e("van-row",{staticClass:"logo",attrs:{type:"flex",justify:"center"}},[e("van-col",{attrs:{span:"10"}},[e("img",{attrs:{src:a(7334),alt:"",width:"100%"}}),e("p",{staticClass:"title"},[t._v("饿了么外卖")])])],1),e("van-form",{on:{submit:t.onSubmit}},[e("van-field",{attrs:{name:"phone",label:"手机号",placeholder:"手机号",rules:[{validator:t.phoneValidator,message:"请正确填写11位手机号"}]},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),e("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{validator:t.pswValidator,message:"8-16个字符，至少1个大写字母，1个小写字母和1个数字"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("div",{staticStyle:{margin:"16px"}},[e("van-button",{attrs:{round:"",hairline:"",size:"large","native-type":"submit",color:"#00a0f0"}},[t._v("登录")]),e("van-button",{staticClass:"register",attrs:{round:"",hairline:"",plain:"",size:"large","native-type":"button",color:"#00a0f0",to:"/register"}},[t._v("注册")])],1)],1)],1)},ce=[],ue=(a(5654),a(8848)),de={data(){return{phone:"",password:""}},methods:{async onSubmit(t){const e=new URLSearchParams;e.append("phone",t.phone),e.append("password",t.password);const a=await Vt(e);return 0==a.data.status?(sessionStorage.setItem("token",a.data.token),sessionStorage.setItem("islogin",!0),this.$router.push({path:"/"}),(0,ue.Z)("登录成功")):(0,ue.Z)("手机号或密码错误！请重试")},onClickLeft(){this.$router.go(-1)},phoneValidator(t){return/^1(3\d|4[5-9]|5[0-35-9]|6[2567]|7[0-8]|8\d|9[0-35-9])\d{8}$/.test(t)},pswValidator(t){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,16}$/.test(t)}}},pe=de,ve=(0,U.Z)(pe,le,ce,!1,null,"828f9298",null),me=ve.exports,he=function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:a(8288),alt:"",width:"100%"}}),e("p",{staticClass:"text"},[t._v("当前URL不正确，请返回主页面")]),e("van-button",{attrs:{round:"",hairline:"",size:"large",color:"#00a0f0"},on:{click:t.backToHome}},[t._v("返回主页面")])],1)},fe=[],ge={methods:{backToHome(){this.$router.push({path:"/layout/home"})}}},be=ge,ye=(0,U.Z)(be,he,fe,!1,null,"880526be",null),ke=ye.exports,we=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"navbar",style:{backgroundImage:"url("+t.storeDetail.picUrl+")",backgroundRepeat:"no-repeat",backgroundPosition:"left center"}},[e("div",{staticClass:"left"},[e("van-icon",{attrs:{name:"arrow-left"},on:{click:function(e){return t.backFn()}}})],1),e("div",{staticClass:"right"},[e("van-icon",{attrs:{name:"search"}}),e("van-icon",{attrs:{name:"phone-o"}}),e("van-icon",{attrs:{name:"star-o"}}),e("van-icon",{attrs:{name:"ellipsis"}})],1)]),e("div",{staticClass:"content"},[e("div",{staticClass:"detail"},[e("p",{staticClass:"title"},[t._v(t._s(t.storeDetail.name))]),e("div",{staticClass:"info"},[e("van-icon",{attrs:{name:"star-o",color:"red"}}),t._v(t._s(t.storeDetail.rate)+" "),e("span",[t._v("配送约"+t._s(t.storeDetail.distance))])],1),e("div",{staticClass:"tags"},t._l(t.tagList,(function(a,s){return e("van-tag",{key:s,attrs:{plain:"",type:"danger"}},[t._v(t._s(a))])})),1),e("div",{staticClass:"storeLogo"},[e("img",{attrs:{src:t.storeDetail.picUrl,alt:"",width:"120px"}})])]),e("div",{staticClass:"manu"},[e("van-tabs",{attrs:{color:"#00a0f0"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("van-tab",{attrs:{title:"点菜"}},t._l(t.productList,(function(a){return e("SingleItem",{key:a.id,attrs:{name:a.name,sold:a.sold,price:a.price,picUrl:a.picUrl,discription:a.discription},on:{add:function(e){return t.addFn(a.id,a.price)}}})})),1),e("van-tab",{attrs:{title:"评价"}},[t._v("评价")]),e("van-tab",{attrs:{title:"商家"}},[t._v("商家")])],1)],1)]),e("div",{staticClass:"total"},[e("img",{staticClass:"driver",attrs:{src:a(458),alt:"",width:"60px"}}),e("span",{staticClass:"quantity"},[e("van-badge",{attrs:{content:t.quantity,color:"#00a0f0",max:"99"}})],1),e("div",{staticClass:"price"},[e("p",[t._v("￥"+t._s(t.total))]),e("span",[t._v("预估另需配送费￥9")])]),e("button",{staticClass:"check",on:{click:t.goCheckOut}},[t._v("结算")])])])},_e=[],xe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"singleItem"},[e("van-cell",{attrs:{center:"",title:t.name},on:{click:t.showPopup},scopedSlots:t._u([{key:"icon",fn:function(){return[e("div",{staticClass:"foodPic"},[e("img",{attrs:{src:t.picUrl,alt:""}})])]},proxy:!0},{key:"label",fn:function(){return[e("span",{staticClass:"sale"},[t._v("月售"+t._s(t.sold)+" ")]),e("span",{staticClass:"price"},[t._v(" ￥"+t._s(t.price))])]},proxy:!0},{key:"default",fn:function(){return[e("van-icon",{attrs:{name:"add",color:"#00a0f0",size:"25"},on:{click:function(e){return e.stopPropagation(),t.addBtn()}}})]},proxy:!0}])}),e("van-popup",{attrs:{closeable:"",round:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("div",{staticClass:"box"},[e("div",{staticClass:"pic"},[e("img",{attrs:{src:t.picUrl,alt:"",width:"100%"}})]),e("van-divider"),e("div",{staticClass:"description"},[e("h5",[t._v(t._s(t.name))]),e("p",{staticClass:"sale"},[t._v("月售"+t._s(t.sold))]),e("p",[t._v(t._s(t.discription))])])],1)])],1)},je=[],Se={props:{name:String,sold:Number,price:Number,picUrl:String,discription:String},data(){return{show:!1}},methods:{addBtn(){this.$emit("add")},showPopup(){this.show=!0}}},Ce=Se,Ze=(0,U.Z)(Ce,xe,je,!1,null,"589b19e8",null),Le=Ze.exports,Ie={components:{SingleItem:Le},data(){return{tagList:["天天神券","五折起"],active:0,quantity:0,total:0,productList:[],storeDetail:{},cart:[]}},async created(){const t=await Et({storeId:this.$route.params.id});this.productList=t.data.data;const e=await Mt({storeId:this.$route.params.id});this.storeDetail=e.data.data[0]},methods:{backFn(){this.$router.push({path:"/"})},addFn(t,e){const a=this.cart.findIndex((e=>e.product==t));-1==a?this.cart.push({product:t,num:1,price:e}):(this.cart[a].num++,this.cart[a].price=this.cart[a].price+e),this.quantity++,this.total+=e},goCheckOut(){sessionStorage.setItem("cart",JSON.stringify(this.cart)),this.$router.push({name:"checkOut",params:{storeId:this.$route.params.id}})}}},Pe=Ie,ze=(0,U.Z)(Pe,we,_e,!1,null,"4c50ff56",null),$e=ze.exports,Oe=function(){var t=this,e=t._self._c;return e("div",[e("van-search",{attrs:{showAction:"",shape:"round",background:"#00a0f0",placeholder:"搜索我的订单"},scopedSlots:t._u([{key:"action",fn:function(){return[e("van-icon",{staticClass:"comment",attrs:{name:"comment-o",size:"25",color:"white"}})]},proxy:!0}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),e("van-tabs",{attrs:{background:"#f7f8f9"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("van-tab",{attrs:{title:"全部订单"}},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.ordersList,(function(t){return e("SingleOrder",{key:t.id,attrs:{order:t}})})),1)],1),e("van-tab",{attrs:{title:"待评价"}}),e("van-tab",{attrs:{title:"退款"}})],1)],1)},De=[],Fe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"singleOrder"},[e("van-cell",{attrs:{value:"内容"},on:{click:function(e){return t.goDetail(t.order.id)}},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{staticClass:"title"},[t._v(t._s(t.store.name))]),e("van-icon",{attrs:{name:"arrow"}})]},proxy:!0},{key:"label",fn:function(){return t._l(t.picList,(function(t,a){return e("img",{key:a,staticClass:"foodPic",attrs:{src:t,alt:"",width:"35px"}})}))},proxy:!0},{key:"default",fn:function(){return[e("span",[t._v(t._s(t.statu))]),e("p",{staticClass:"price"},[t._v("￥"+t._s(t.order.total))]),e("van-button",{attrs:{type:"default",round:"",size:"mini"}},[t._v("再来一单")]),e("van-button",{attrs:{type:"default",round:"",size:"mini",plain:"",color:"#00a0f0"}},[t._v("去评价")])]},proxy:!0}])})],1)},Te=[],Ae={props:{order:Object},data(){return{statu:"",store:{},productList:[],picList:[]}},async created(){const t=await Xt(sessionStorage.getItem("token"),this.order.status);this.statu=t.data.data.statu;const e=await Mt({storeId:this.order.storeId});this.store=e.data.data[0];const a=await Gt(sessionStorage.getItem("token"),{orderId:this.order.id}),s=a.data.data;s.forEach((t=>{this.productList.push(t.productId)})),this.productList.forEach((async t=>{this.picList.push(await(await Rt({productId:t})).data.data[0].picUrl),this.picList.length>=3&&(this.picList=this.picList.slice(0,3))}))},methods:{goDetail(t){this.$router.push({path:"/orderDetail/"+t})}}},Ue=Ae,Ne=(0,U.Z)(Ue,Fe,Te,!1,null,"3970735f",null),Ee=Ne.exports,Me={data(){return{value:"",active:0,ordersList:[],loading:!1,finished:!1}},components:{SingleOrder:Ee},async created(){const t=await Jt(sessionStorage.getItem("token"));this.ordersList=t.data.data},methods:{onLoad(){setTimeout((()=>{this.loading=!1,this.finished=!0}),1e3)}}},Re=Me,Ye=(0,U.Z)(Re,Oe,De,!1,null,"10798596",null),Ve=Ye.exports,qe=function(){var t=this,e=t._self._c;return e("div",[e("div"),e("van-nav-bar",{attrs:{border:!1},scopedSlots:t._u([{key:"left",fn:function(){return[e("van-icon",{attrs:{name:"setting-o",size:"18",color:"black"},on:{click:t.goSetting}})]},proxy:!0},{key:"right",fn:function(){return[e("van-icon",{attrs:{name:"comment-o",size:"18",color:"black"}})]},proxy:!0}])}),e("van-cell",{staticClass:"infoCard",scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"info"},[e("p",{staticClass:"name"},[t._v(t._s(t.userInfo.nickName))]),e("span",{staticClass:"phone"},[t._v(t._s(t.userInfo.phone))])]),e("van-row",[e("van-col",{attrs:{span:"8"}},[e("span",[t._v(t._s(t.userInfo.giftCard))]),e("p",[t._v("礼品卡")])]),e("van-col",{attrs:{span:"8"}},[e("span",[t._v(t._s(t.userInfo.redPack)+"个")]),e("p",[t._v("红包")])]),e("van-col",{attrs:{span:"8"}},[e("span",[t._v(t._s(t.userInfo.voucher)+"个")]),e("p",[t._v("代金券")])])],1)]},proxy:!0},{key:"default",fn:function(){return[e("img",{attrs:{src:a(8308),alt:"",width:"80px"}})]},proxy:!0}])}),e("div",{staticClass:"topUp"},[e("div",{staticClass:"top"},[e("p",{staticClass:"title"},[t._v("礼品卡充值")]),e("span",[t._v("充值立即享受更多优惠 "),e("van-icon",{attrs:{name:"arrow"}})],1)]),t._m(0)]),e("div",{staticClass:"myFunction"},[e("p",{staticClass:"title"},[t._v("我的功能")]),e("van-row",t._l(t.functionList,(function(a){return e("van-col",{key:a.id,attrs:{span:"6"}},[e("div",{staticClass:"iconBox"},[e("van-icon",{attrs:{name:a.iconName,size:"25"}}),e("p",[t._v(t._s(a.text))])],1)])})),1)],1)],1)},Be=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"optionBox"},[e("div",{staticClass:"option"},[e("p",[t._v("￥50")]),e("span",[t._v("充值￥50送￥5")])]),e("div",{staticClass:"option"},[e("p",[t._v("￥150")]),e("span",[t._v("充值￥150送￥20")])]),e("div",{staticClass:"option"},[e("p",[t._v("￥300")]),e("span",[t._v("充值￥300送￥40")])])])}],He={data(){return{userInfo:{},functionList:[]}},async created(){const t=await qt(sessionStorage.getItem("token"));if(401==t.data.status)return this.$router.push({path:"/"}),(0,ue.Z)("登录已过期,请重新登录");{this.userInfo=t.data.data;const e=await Ht();this.functionList=e.data.data}},methods:{goSetting(){this.$router.push({path:"/settingLayout"})}}},Je=He,We=(0,U.Z)(Je,qe,Be,!1,null,"43c33756",null),Ge=We.exports,Ke=function(){var t=this,e=t._self._c;return e("div",{staticClass:"orderDetail"},[e("div",{staticClass:"top"},[e("van-nav-bar",{attrs:{"left-arrow":"",border:!1},on:{"click-left":t.onClickLeft},scopedSlots:t._u([{key:"left",fn:function(){return[e("van-icon",{attrs:{name:"arrow-left",color:"white",size:"20"}})]},proxy:!0},{key:"right",fn:function(){return[e("van-icon",{attrs:{name:"service-o",color:"white",size:"20"}})]},proxy:!0}])}),e("p",{staticClass:"statu-text"},[t._v(t._s(t.statu))]),e("div",{staticClass:"card"},[e("van-cell",{attrs:{title:"订单已送达，祝您用餐愉快"},scopedSlots:t._u([{key:"label",fn:function(){return[e("van-row",{staticClass:"row"},[e("van-col",{attrs:{span:"6"}},[e("IconText",{attrs:{iconText:"需要帮助"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("van-icon",{attrs:{name:"question-o",color:"black",size:"20"}})]},proxy:!0}])})],1),e("van-col",{attrs:{span:"6"}},[e("IconText",{attrs:{iconText:"订单反馈"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("van-icon",{attrs:{name:"orders-o",color:"black",size:"20"}})]},proxy:!0}])})],1),e("van-col",{attrs:{span:"6"}},[e("IconText",{attrs:{iconText:"去评价"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("van-icon",{attrs:{name:"smile-comment-o",color:"black",size:"20"}})]},proxy:!0}])})],1),e("van-col",{attrs:{span:"6"}},[e("IconText",{attrs:{iconText:"再来一单"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("van-icon",{attrs:{name:"records",color:"black",size:"20"}})]},proxy:!0}])})],1)],1)]},proxy:!0}])})],1)],1),e("div",{staticClass:"detail"},[e("div",{staticClass:"foodList"},[e("p",{staticClass:"title"},[t._v(t._s(t.store.name))]),t._l(t.productList,(function(t,a){return e("OrderItem",{key:a,attrs:{productId:t.productId,num:t.num}})}))],2),e("div",{staticClass:"fee"},[e("van-cell",{attrs:{title:"平台服务费",border:!1},scopedSlots:t._u([{key:"default",fn:function(){return[e("span",[t._v("￥"+t._s(t.currency(t.order.service)))])]},proxy:!0}])}),e("van-cell",{attrs:{title:"打包费",value:"￥1.00",border:!1},scopedSlots:t._u([{key:"default",fn:function(){return[e("span",[t._v("￥"+t._s(t.currency(t.order.pack)))])]},proxy:!0}])}),e("van-cell",{attrs:{title:"配送费",border:!1},scopedSlots:t._u([{key:"default",fn:function(){return[e("span",[t._v("￥"+t._s(t.currency(t.order.postage)))])]},proxy:!0}])})],1),e("div",{staticClass:"total"},[e("p",[t._v("总计 ￥"+t._s(t.currency(t.order.total)))])])]),e("div",{staticClass:"address"},[e("p",{staticClass:"title"},[t._v("收货信息")]),e("van-cell",{attrs:{title:"期望时间",value:"尽快送达",border:!1}}),e("van-cell",{attrs:{title:"收件人",value:t.buyer.nickName,border:!1}}),e("van-cell",{attrs:{title:"联系电话",value:t.buyer.phone,border:!1}}),e("van-cell",{attrs:{title:"地址",value:"广州",border:!1}}),e("van-cell",{attrs:{title:"备注",value:"微辣",border:!1}}),e("van-cell",{attrs:{title:"支付方式",value:"在线支付",border:!1}}),e("van-cell",{attrs:{title:"下单时间",value:t.moment(t.order.createTime,"YYYY-MM-DD HH:MM:SS"),border:!1}})],1)])},Qe=[],Xe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"iconBox"},[t._t("icon"),e("p",[t._v(t._s(t.iconText))])],2)},ta=[],ea={props:{iconText:String}},aa=ea,sa=(0,U.Z)(aa,Xe,ta,!1,null,"109d71a0",null),na=sa.exports,ra=function(){var t=this,e=t._self._c;return e("div",[e("van-cell",{attrs:{center:"",title:t.product.name},scopedSlots:t._u([{key:"default",fn:function(){return[e("span",[t._v("￥")]),t._v(t._s(t.currency(t.product.price*t.num))+" ")]},proxy:!0},{key:"label",fn:function(){return[e("p",[t._v("x"+t._s(t.num))])]},proxy:!0},{key:"icon",fn:function(){return[e("img",{staticClass:"foodPic",attrs:{src:t.product.picUrl,alt:"",width:"50px"}})]},proxy:!0}])})],1)},oa=[],ia={props:{productId:Number,num:Number},data(){return{product:{}}},async created(){const t=await Rt({productId:this.productId});this.product=t.data.data[0]}},la=ia,ca=(0,U.Z)(la,ra,oa,!1,null,"7f2abcc2",null),ua=ca.exports,da={components:{IconText:na,OrderItem:ua},methods:{onClickLeft(){this.$router.push({path:"/layout/order"})}},data(){return{productList:[],order:{},store:{},statu:"",payment:"",remark:"",address:"",buyer:{}}},async created(){const t=await Gt(sessionStorage.getItem("token"),{orderId:this.$route.params.id});this.productList=t.data.data;const e=await Wt(sessionStorage.getItem("token"),{orderId:this.$route.params.id});console.log(e),this.order=e.data.data[0];const a=await Xt(sessionStorage.getItem("token"),e.data.data[0].status);this.statu=a.data.data.statu;const s=await Mt({storeId:e.data.data[0].storeId});this.store=s.data.data[0];const n=await Bt({userId:e.data.data[0].userId});this.buyer=n.data.data}},pa=da,va=(0,U.Z)(pa,Ke,Qe,!1,null,"f8e42326",null),ma=va.exports,ha=function(){var t=this,e=t._self._c;return e("div",{staticClass:"orderDetail"},[e("div",{staticClass:"top"},[e("van-nav-bar",{attrs:{"left-arrow":"",border:!1},on:{"click-left":t.onClickLeft},scopedSlots:t._u([{key:"left",fn:function(){return[e("van-icon",{attrs:{name:"arrow-left",color:"white",size:"20"}})]},proxy:!0},{key:"title",fn:function(){return[e("p",{staticClass:"nav-title"},[t._v("确认订单")])]},proxy:!0}])}),e("van-tabs",{attrs:{type:"card",color:"#9bdbfd"}},[e("van-tab",{staticClass:"main",attrs:{title:"外卖配送"}},[e("div",{staticClass:"card"},[e("van-cell-group",[e("van-cell",{attrs:{"is-link":"",title:t.address},on:{click:function(e){t.addressShow=!0}}}),e("van-action-sheet",{attrs:{title:"请选择收货地址",actions:t.addressList,"close-on-click-action":""},on:{select:t.addressSelect},model:{value:t.addressShow,callback:function(e){t.addressShow=e},expression:"addressShow"}},[e("van-button",{attrs:{plain:"",type:"info",size:"large"}},[t._v("新增地址")])],1),e("van-cell",{attrs:{title:"送达时间",value:"尽快送达"}}),e("van-cell",{attrs:{"is-link":"",title:t.payment},on:{click:function(e){t.paymentShow=!0}}}),e("van-action-sheet",{attrs:{actions:t.paymentList,"cancel-text":"取消",description:"请选择支付方式"},on:{select:t.paymentSelect},model:{value:t.paymentShow,callback:function(e){t.paymentShow=e},expression:"paymentShow"}})],1)],1),e("div",{staticClass:"detail"},[e("div",{staticClass:"foodList"},[e("p",{staticClass:"title"},[t._v(t._s(t.store.name))]),t._l(t.cart,(function(t,a){return e("OrderItem",{key:a,attrs:{productId:t.product,num:t.num}})}))],2),e("div",{staticClass:"fee"},[e("van-cell-group",[e("van-cell",{attrs:{title:"平台服务费",value:"1",border:!1},scopedSlots:t._u([{key:"default",fn:function(){return[e("span",[t._v("￥")]),t._v(t._s(t.service))]},proxy:!0}])}),e("van-cell",{attrs:{title:"打包费",border:!1},scopedSlots:t._u([{key:"default",fn:function(){return[e("span",[t._v("￥")]),t._v(t._s(t.currency(t.cart.length)))]},proxy:!0}])}),e("van-cell",{attrs:{title:"配送费",border:!1},scopedSlots:t._u([{key:"default",fn:function(){return[e("span",[t._v("￥")]),t._v(t._s(t.currency(t.store.delivery)))]},proxy:!0}])})],1)],1),e("div",{staticClass:"total"},[e("p",[t._v("总计 ￥"+t._s(t.total))])]),e("van-cell-group",[e("van-cell",{attrs:{title:"订单备注",value:"可备注无接触送餐",border:!1}}),e("van-cell",{attrs:{title:"餐具份数",value:"默认一份 >",border:!1}})],1)],1)]),e("van-tab",{staticClass:"main",attrs:{title:"到店自取"}},[e("div",{staticClass:"card"},[e("van-cell-group",[e("van-cell",{attrs:{title:"麦当劳&麦咖啡"},scopedSlots:t._u([{key:"label",fn:function(){return[e("img",{attrs:{src:a(5234),alt:"",width:"100%"}})]},proxy:!0}])}),e("van-cell",{attrs:{title:"预留电话",value:"13538991133"}}),e("van-cell",{attrs:{"is-link":"",title:t.payment},on:{click:function(e){t.paymentShow=!0}}}),e("van-action-sheet",{attrs:{actions:t.paymentList,"cancel-text":"取消",description:"请选择支付方式"},on:{select:t.paymentSelect},model:{value:t.paymentShow,callback:function(e){t.paymentShow=e},expression:"paymentShow"}})],1)],1),e("OrderDetail")],1)],1),e("van-submit-bar",{attrs:{"button-text":"提交订单","button-color":"#48c2fe"},on:{submit:t.onSubmit}})],1)])},fa=[],ga=a(8774),ba=a.n(ga),ya={components:{OrderItem:ua},data(){return{paymentShow:!1,paymentList:[{name:"微信支付"},{name:"支付宝支付"},{name:"钱包支付"},{name:"现金支付"}],payment:"支付方式:",addressShow:!1,addressList:[{name:"战狼: 13538991133",subname:"广东省广州市增城区荔城街"},{name:"战狼: 13538991133",subname:"广东省广州市增城区荔城街"}],address:"请选择收货地址",cart:JSON.parse(sessionStorage.getItem("cart")),storeId:this.$route.params.storeId,store:{}}},methods:{onClickLeft(){this.$router.go(-1)},paymentSelect(t){this.paymentShow=!1,(0,ue.Z)(t.name),this.payment=t.name},onCancel(){(0,ue.Z)("取消")},addressSelect(t){this.paymentShow=!1,(0,ue.Z)(t.subname),this.address=t.subname},async onSubmit(){const t=new URLSearchParams;t.append("storeId",this.store.id),t.append("total",this.total),t.append("address","1"),t.append("paymentType","1"),t.append("status","1"),t.append("service",this.service),t.append("pack",this.cart.length),t.append("postage",this.store.delivery);const e=await Kt(sessionStorage.getItem("token"),t),a=new URLSearchParams;a.append("orderId",e.data.orderId),a.append("productList",sessionStorage.getItem("cart")),await Qt(sessionStorage.getItem("token"),a),this.$router.push({path:"/layout/order"}),(0,ue.Z)("下单成功")}},async created(){const t=await Mt({storeId:this.storeId});this.store=t.data.data[0],console.log(t)},computed:{productTotal(){let t=0;return this.cart.forEach((e=>{t+=e.price})),ba()(t)},service(){return ba()(.1*parseFloat(this.productTotal))},total(){let t=parseFloat(this.service)+this.cart.length+this.store.delivery;return ba()(t+parseFloat(this.productTotal))}}},ka=ya,wa=(0,U.Z)(ka,ha,fa,!1,null,"2ca8599e",null),_a=wa.exports,xa=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{"left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),e("van-row",{staticClass:"logo",attrs:{type:"flex",justify:"center"}},[e("van-col",{attrs:{span:"4"}},[e("img",{attrs:{src:a(7334),alt:"",width:"100%"}})])],1),e("van-form",{on:{submit:t.onSubmit}},[e("van-field",{attrs:{name:"phone",label:"手机号",placeholder:"手机号",rules:[{validator:t.phoneValidator,message:"请正确填写11位手机号"}]},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),e("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{validator:t.pswValidator,message:"8-16个字符，至少1个大写字母，1个小写字母和1个数字"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("van-field",{attrs:{type:"password",name:"pswconfirm",label:"确认密码",placeholder:"确认密码",rules:[{validator:t.pswConfirm,message:"两次输入的密码不一致"}]},model:{value:t.pswconfirm,callback:function(e){t.pswconfirm=e},expression:"pswconfirm"}}),e("div",{staticStyle:{margin:"16px"}},[e("van-button",{attrs:{round:"",hairline:"",plain:"",size:"large",color:"#00a0f0","native-type":"submit"}},[t._v("注册")])],1)],1)],1)},ja=[],Sa={data(){return{phone:"",password:"",pswconfirm:""}},methods:{async onSubmit(t){const e=new URLSearchParams;e.append("phone",t.phone),e.append("password",t.password);const a=await Yt(e);return 0===a.data.status?(this.$router.push({path:"/login"}),(0,ue.Z)("注册成功,请登录")):(this.phone="",this.password="",this.pswconfirm="",(0,ue.Z)("手机已被注册，请登录或更换手机号"))},onClickLeft(){this.$router.push({path:"/layout/home"})},phoneValidator(t){return/^1(3\d|4[5-9]|5[0-35-9]|6[2567]|7[0-8]|8\d|9[0-35-9])\d{8}$/.test(t)},pswValidator(t){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[^]{8,16}$/.test(t)},pswConfirm(t){return t==this.password}}},Ca=Sa,Za=(0,U.Z)(Ca,xa,ja,!1,null,"abfc43ec",null),La=Za.exports,Ia=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},Pa=[],za={},$a=za,Oa=(0,U.Z)($a,Ia,Pa,!1,null,"1c75148e",null),Da=Oa.exports,Fa=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"设置","left-arrow":""},on:{"click-left":t.onClickLeft}}),e("van-cell-group",[e("van-cell",{attrs:{title:"个人资料","is-link":"",to:"/settingLayout/user"}}),e("van-cell",{attrs:{title:"账号于安全","is-link":""}})],1),e("van-cell-group",[e("van-cell",{attrs:{title:"关于",value:"1.0.0","is-link":""}}),e("van-cell",{attrs:{title:"检测更新","is-link":""}})],1),e("van-button",{attrs:{type:"default",block:""},on:{click:t.logoutFn}},[t._v("退出登录")])],1)},Ta=[],Aa={methods:{onClickLeft(){this.$router.go(-1)},logoutFn(){sessionStorage.removeItem("token"),sessionStorage.removeItem("islogin"),(0,ue.Z)("账号已退出"),this.$router.push({path:"/login"})}}},Ua=Aa,Na=(0,U.Z)(Ua,Fa,Ta,!1,null,"52c6ca77",null),Ea=Na.exports,Ma=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},Ra=[],Ya={methods:{}},Va=Ya,qa=(0,U.Z)(Va,Ma,Ra,!1,null,"529be22c",null),Ba=qa.exports,Ha=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"个人资料","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._m(0),e("van-cell-group",[e("van-cell",{attrs:{title:"昵称","is-link":"",value:t.userInfo.nickName,to:{name:"nickName",params:{nickName:t.userInfo.nickName}}}}),e("van-cell",{attrs:{title:"生日","is-link":"",value:t.birth,to:{name:"birth",params:{birth:t.birth}}}})],1),e("van-cell-group",[e("van-cell",{attrs:{title:"手机号",value:t.userInfo.phone}}),e("van-cell",{attrs:{title:"密码","is-link":"",value:"********",to:"/settingLayout/user/password"}}),e("van-cell",{attrs:{title:"邮箱","is-link":"",value:t.userInfo.email,to:{name:"email",params:{email:t.userInfo.email}}}})],1),e("van-cell",{attrs:{title:"地址","is-link":"",to:"/settingLayout/user/address"}})],1)},Ja=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"avatar"},[e("img",{attrs:{src:"",alt:""}})])}],Wa=a(6797),Ga=a.n(Wa),Ka={data(){return{userInfo:{},birth:""}},methods:{onClickLeft(){this.$router.go(-1)}},async created(){const t=await qt(sessionStorage.getItem("token"));if(401==t.data.status)return this.$router.push({path:"/"}),(0,ue.Z)("登录已过期,请重新登录");this.userInfo=t.data.data,this.birth=Ga()(this.userInfo.birth).format("YYYY-MM-DD")}},Qa=Ka,Xa=(0,U.Z)(Qa,Ha,Ja,!1,null,"e0e51844",null),ts=Xa.exports,es=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"修改昵称","left-arrow":"","right-text":"完成"},on:{"click-left":t.onClickLeft,"click-right":t.submitFn}}),e("van-cell-group",[e("van-field",{attrs:{label:"昵称",placeholder:"请输入昵称","right-icon":"close"},on:{"click-right-icon":t.clearFn},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)},as=[],ss={data(){return{value:this.$route.params.nickName}},methods:{onClickLeft(){this.$router.go(-1)},clearFn(){this.value=""},async submitFn(){const t=new URLSearchParams;t.append("nickName",this.value);const e=await te(sessionStorage.getItem("token"),t);return 0!=e.data.status?(0,ue.Z)("请正确输入4-8个字符"):(this.$router.go(-1),(0,ue.Z)("修改成功"))}}},ns=ss,rs=(0,U.Z)(ns,es,as,!1,null,"41461bee",null),os=rs.exports,is=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"修改生日","left-arrow":"","right-text":"完成"},on:{"click-left":t.onClickLeft,"click-right":t.submitFn}}),e("van-cell-group",[e("van-cell",{attrs:{title:"生日","is-link":"","arrow-direction":"down",value:t.date},on:{click:function(e){t.isShow=!0}}}),t.isShow?e("van-datetime-picker",{attrs:{type:"date",title:"选择出生日期","min-date":t.minDate,"max-date":t.maxDate},on:{confirm:t.confirmFn,cancel:function(e){t.isShow=!1}},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}}):t._e()],1)],1)},ls=[],cs={data(){return{isShow:!1,date:this.$route.params.birth,currentDate:new Date(this.$route.params.birth),minDate:new Date(1922,0,1),maxDate:new Date}},methods:{onClickLeft(){this.$router.go(-1)},async submitFn(){const t=new URLSearchParams;t.append("birth",this.date);const e=await ee(sessionStorage.getItem("token"),t);return console.log(e),0!=e.data.status?(0,ue.Z)("修改失败"):(this.$router.go(-1),(0,ue.Z)("修改成功"))},confirmFn(t){const e=Ga()(t).format("YYYY-MM-DD");this.date=e,this.isShow=!1}}},us=cs,ds=(0,U.Z)(us,is,ls,!1,null,"167c4606",null),ps=ds.exports,vs=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"修改密码","left-arrow":"","right-text":"完成"},on:{"click-left":t.onClickLeft,"click-right":t.submitFn}}),e("van-field",{attrs:{label:"原密码",type:"password",placeholder:"请输入原密码","right-icon":"close"},on:{"click-right-icon":function(e){t.oldPsw=""}},model:{value:t.oldPsw,callback:function(e){t.oldPsw=e},expression:"oldPsw"}}),e("van-field",{attrs:{label:"新密码",type:"password",placeholder:"请输入新密码","right-icon":"close"},on:{"click-right-icon":function(e){t.newPsw=""}},model:{value:t.newPsw,callback:function(e){t.newPsw=e},expression:"newPsw"}})],1)},ms=[],hs={data(){return{oldPsw:"",newPsw:""}},methods:{onClickLeft(){this.$router.go(-1)},async submitFn(){const t=new URLSearchParams;t.append("oldPwd",this.oldPsw),t.append("newPwd",this.newPsw);const e=await se(sessionStorage.getItem("token"),t);return 0!=e.data.status?(0,ue.Z)("请检查输入的密码是否正确"):(this.$router.go(-1),(0,ue.Z)("修改成功"))}}},fs=hs,gs=(0,U.Z)(fs,vs,ms,!1,null,"833edb3c",null),bs=gs.exports,ys=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"修改邮箱","left-arrow":"","right-text":"完成"},on:{"click-left":t.onClickLeft,"click-right":t.submitFn}}),e("van-cell-group",[e("van-field",{attrs:{label:"邮箱",placeholder:"请输入邮箱","right-icon":"close"},on:{"click-right-icon":t.clearFn},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)},ks=[],ws={data(){return{value:this.$route.params.email}},methods:{onClickLeft(){this.$router.go(-1)},clearFn(){this.value=""},async submitFn(){const t=new URLSearchParams;t.append("email",this.value);const e=await ae(sessionStorage.getItem("token"),t);return 0!=e.data.status?(0,ue.Z)("请输入正确的邮箱号"):(this.$router.go(-1),(0,ue.Z)("修改成功"))}}},_s=ws,xs=(0,U.Z)(_s,ys,ks,!1,null,"901a07a0",null),js=xs.exports,Ss=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"地址栏","left-arrow":""},on:{"click-left":t.onClickLeft}}),e("van-address-list",{attrs:{switchable:!1,list:t.list},on:{add:t.onAdd,edit:t.onEdit},model:{value:t.chosenAddressId,callback:function(e){t.chosenAddressId=e},expression:"chosenAddressId"}})],1)},Cs=[],Zs={data(){return{chosenAddressId:"1",list:[{id:"1",name:"张三",tel:"13000000000",address:"浙江省杭州市西湖区文三路 138 号东方通信大厦 7 楼 501 室"},{id:"2",name:"李四",tel:"1310000000",address:"浙江省杭州市拱墅区莫干山路 50 号"}]}},methods:{onClickLeft(){this.$router.go(-1)},onAdd(){(0,ue.Z)("新增地址")},onEdit(t,e){(0,ue.Z)("编辑地址:"+e)}}},Ls=Zs,Is=(0,U.Z)(Ls,Ss,Cs,!1,null,"2eebcced",null),Ps=Is.exports;O.ZP.use(M.ZP);const zs=[{path:"/",redirect:"/layout"},{path:"/layout",component:H,redirect:"/layout/home",children:[{path:"home",component:ie,meta:{title:"首页",name:"home"}},{path:"order",component:Ve,meta:{title:"订单",name:"order"}},{path:"me",component:Ge,meta:{title:"我的",name:"me"}}]},{path:"/order",component:Ve,meta:{name:"order"}},{path:"/checkOut",name:"checkOut",component:_a,meta:{name:"checkOut"}},{path:"/login",component:me,meta:{name:"login"}},{path:"/register",component:La,meta:{name:"register"}},{path:"/menu/:id",component:$e,meta:{name:"menu"}},{path:"/orderDetail/:id",component:ma,meta:{name:"orderDetail"}},{path:"/settingLayout",component:Da,redirect:"/settingLayout/home",children:[{path:"home",component:Ea},{path:"user",component:Ba,redirect:"/settingLayout/user/home",children:[{path:"home",component:ts},{path:"nickName",name:"nickName",component:os},{path:"birth",name:"birth",component:ps},{path:"password",name:"password",component:bs},{path:"email",name:"email",component:js},{path:"address",name:"address",component:Ps}]}]},{path:"*",component:ke,meta:{name:"notFound"}}],$s=new M.ZP({routes:zs});$s.beforeEach(((t,e,a)=>("/layout/me"!=t.path||sessionStorage.getItem("islogin"))&&("/checkOut"!=t.path||sessionStorage.getItem("islogin"))&&("/layout/order"!=t.path||sessionStorage.getItem("islogin"))?void a():$s.push({path:"/login"})));var Os=$s,Ds=(a(1305),a(2562));O.ZP.use(Ds.Z),O.ZP.prototype.currency=t=>ba()(t,{symbol:"￥"}),O.ZP.prototype.moment=(t,e)=>Ga()(t).format(e),O.ZP.config.productionTip=!1,O.ZP.use($.Z),O.ZP.use(z.Z),O.ZP.use(P.Z),O.ZP.use(I.Z),O.ZP.use(L.Z),O.ZP.use(Z.Z),O.ZP.use(C.Z),O.ZP.use(S.Z),O.ZP.use(j.Z),O.ZP.use(x.Z),O.ZP.use(_.Z),O.ZP.use(w.Z),O.ZP.use(k.Z),O.ZP.use(y.Z),O.ZP.use(b.Z),O.ZP.use(g.Z),O.ZP.use(f.Z),O.ZP.use(h.Z),O.ZP.use(m.Z),O.ZP.use(v.Z),O.ZP.use(p.Z),O.ZP.use(d.Z),O.ZP.use(u.Z),O.ZP.use(c.Z),O.ZP.use(l.Z),O.ZP.use(i.Z),O.ZP.use(o.Z),O.ZP.use(r.Z),O.ZP.use(n.Z),O.ZP.use(s.Z),new O.ZP({router:Os,render:t=>t(E)}).$mount("#app")},1305:function(){(function(t,e){var a=e.documentElement,s=t.devicePixelRatio||1;function n(){e.body?e.body.style.fontSize=12*s+"px":e.addEventListener("DOMContentLoaded",n)}function r(){var t=a.clientWidth/10;a.style.fontSize=t+"px"}if(n(),r(),t.addEventListener("resize",r),t.addEventListener("pageshow",(function(t){t.persisted&&r()})),s>=2){var o=e.createElement("body"),i=e.createElement("div");i.style.border=".5px solid transparent",o.appendChild(i),a.appendChild(o),1===i.offsetHeight&&a.classList.add("hairlines"),a.removeChild(o)}})(window,document)},8288:function(t,e,a){"use strict";t.exports=a.p+"img/404.6ec3db6a.png"},8308:function(t,e,a){"use strict";t.exports=a.p+"img/avatar.a14cdfed.png"},458:function(t,e,a){"use strict";t.exports=a.p+"img/driver.2cab5eb1.png"},7334:function(t,e,a){"use strict";t.exports=a.p+"img/icon.be890c7d.png"},5234:function(t,e,a){"use strict";t.exports=a.p+"img/map.2e223d46.jpg"},4408:function(t,e,a){"use strict";t.exports=a.p+"img/1.3a3d96c4.png"},8349:function(t,e,a){"use strict";t.exports=a.p+"img/2.57abb3af.png"},3639:function(t,e,a){"use strict";t.exports=a.p+"img/3.cfcf1e4b.png"}},e={};function a(s){var n=e[s];if(void 0!==n)return n.exports;var r=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=t,function(){var t=[];a.O=function(e,s,n,r){if(!s){var o=1/0;for(u=0;u<t.length;u++){s=t[u][0],n=t[u][1],r=t[u][2];for(var i=!0,l=0;l<s.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(i=!1,r<o&&(o=r));if(i){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[s,n,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,r,o=s[0],i=s[1],l=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(l)var u=l(a)}for(e&&e(s);c<o.length;c++)r=o[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(u)},s=self["webpackChunkelement_demo"]=self["webpackChunkelement_demo"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(5181)}));s=a.O(s)})();
//# sourceMappingURL=app.cec94981.js.map